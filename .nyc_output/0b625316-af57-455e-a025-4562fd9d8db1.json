{"/home/usuario/Practicas/p10/src/claseCliente.ts":{"path":"/home/usuario/Practicas/p10/src/claseCliente.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":30}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":34}},"4":{"start":{"line":11,"column":8},"end":{"line":11,"column":16}},"5":{"start":{"line":12,"column":8},"end":{"line":14,"column":11}},"6":{"start":{"line":13,"column":12},"end":{"line":13,"column":53}},"7":{"start":{"line":15,"column":8},"end":{"line":40,"column":11}},"8":{"start":{"line":16,"column":33},"end":{"line":16,"column":63}},"9":{"start":{"line":17,"column":12},"end":{"line":39,"column":13}},"10":{"start":{"line":19,"column":20},"end":{"line":29,"column":21}},"11":{"start":{"line":20,"column":24},"end":{"line":20,"column":68}},"12":{"start":{"line":23,"column":24},"end":{"line":28,"column":25}},"13":{"start":{"line":24,"column":28},"end":{"line":24,"column":80}},"14":{"start":{"line":27,"column":28},"end":{"line":27,"column":80}},"15":{"start":{"line":30,"column":20},"end":{"line":30,"column":26}},"16":{"start":{"line":32,"column":20},"end":{"line":37,"column":21}},"17":{"start":{"line":33,"column":24},"end":{"line":33,"column":109}},"18":{"start":{"line":36,"column":24},"end":{"line":36,"column":69}},"19":{"start":{"line":38,"column":20},"end":{"line":38,"column":26}},"20":{"start":{"line":43,"column":0},"end":{"line":43,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":28},"end":{"line":41,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":31},"end":{"line":12,"column":32}},"loc":{"start":{"line":12,"column":37},"end":{"line":14,"column":9}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":30},"end":{"line":15,"column":31}},"loc":{"start":{"line":15,"column":43},"end":{"line":40,"column":9}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":12},"end":{"line":39,"column":13}},"type":"switch","locations":[{"start":{"line":18,"column":16},"end":{"line":30,"column":26}},{"start":{"line":31,"column":16},"end":{"line":38,"column":26}}],"line":17},"1":{"loc":{"start":{"line":19,"column":20},"end":{"line":29,"column":21}},"type":"if","locations":[{"start":{"line":19,"column":20},"end":{"line":29,"column":21}},{"start":{"line":19,"column":20},"end":{"line":29,"column":21}}],"line":19},"2":{"loc":{"start":{"line":23,"column":24},"end":{"line":28,"column":25}},"type":"if","locations":[{"start":{"line":23,"column":24},"end":{"line":28,"column":25}},{"start":{"line":23,"column":24},"end":{"line":28,"column":25}}],"line":23},"3":{"loc":{"start":{"line":32,"column":20},"end":{"line":37,"column":21}},"type":"if","locations":[{"start":{"line":32,"column":20},"end":{"line":37,"column":21}},{"start":{"line":32,"column":20},"end":{"line":37,"column":21}}],"line":32}},"s":{"0":1,"1":1,"2":1,"3":1,"4":5,"5":5,"6":1,"7":5,"8":4,"9":4,"10":2,"11":1,"12":1,"13":0,"14":1,"15":2,"16":2,"17":1,"18":1,"19":2,"20":1},"f":{"0":5,"1":1,"2":4},"b":{"0":[2,2],"1":[1,1],"2":[0,1],"3":[1,1]},"inputSourceMap":{"version":3,"file":"/home/usuario/Practicas/p10/src/claseCliente.ts","sources":["/home/usuario/Practicas/p10/src/claseCliente.ts"],"names":[],"mappings":";;;AAAA,+BAA+B;AAC/B,mCAAoC;AAGpC;;GAEG;AACH,MAAa,MAAO,SAAQ,qBAAY;IACtC,YAAY,UAAwB;QAClC,KAAK,EAAE,CAAC;QAER,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,UAAU,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,EAAE;YAChC,MAAM,YAAY,GAAiB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;YAClE,QAAQ,YAAY,CAAC,IAAI,EAAE;gBACzB,KAAK,KAAK;oBACR,IAAK,YAAY,CAAC,KAAK,EAAE;wBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;qBAC7C;yBAAM;wBACL,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE;4BACvB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,sBAAsB,EAAE,IAAI,CAAC,CAAC;yBACrD;6BAAM;4BACL,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,sBAAsB,EAAE,IAAI,CAAC,CAAC;yBACrD;qBACF;oBACD,MAAM;gBAER,KAAK,MAAM;oBACT,IAAK,YAAY,CAAC,KAAK,EAAE;wBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,YAAY,CAAC,KAAM,CAAC,CAAC,CAAC,CAAC,MAAM,wBAAwB,EAAE,IAAI,CAAC,CAAC;qBACvF;yBAAM;wBACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC;qBAC9C;oBACD,MAAM;aACT;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAjCD,wBAiCC;AAAA,CAAC","sourcesContent":["import * as chalk from 'chalk';\nimport {EventEmitter} from 'events';\nimport {ResponseType} from './diferentesTipos';\n\n/**\n * Clase para gestionar eventos del cliente\n */\nexport class Client extends EventEmitter {\n  constructor(connection: EventEmitter) {\n    super();\n\n    connection.on('error', () => {\n      this.emit('error', 'Error del servidor');\n    });\n\n    connection.on('data', (element) => {\n      const ResponseData :ResponseType = JSON.parse(element.toString());\n      switch (ResponseData.tipo) {\n        case 'add':\n          if ( ResponseData.exito) {\n            this.emit('response', `Nota creada`, false);\n          } else {\n            if (!ResponseData.color) {\n              this.emit('response', `Ha ocurrido un error`, true);\n            } else {\n              this.emit('response', `Ha ocurrido un error`, true);\n            }\n          }\n          break;\n\n        case 'read':\n          if ( ResponseData.exito) {\n            this.emit('response', `${ResponseData.notas![0].titulo} abierto correctamente`, true);\n          } else {\n            console.log(chalk.red(`Nota no encontrada`));\n          }\n          break;\n      }\n    });\n  }\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"13170ed6ba8bc1088de71326af8080a9a81b8b3b","contentHash":"942b771d4b73ec40b2f344890c8aee38577989847a39db1f857c7eebda09d9de"}}